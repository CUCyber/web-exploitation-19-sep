services:
  web:
    build: web-server/
    ports:
      - 80:80
      - 22:22
  # wireguard:
  #   image: lscr.io/linuxserver/wireguard:latest
  #   container_name: wireguard
  #   cap_add:
  #     - NET_ADMIN
  #     # - SYS_MODULE #optional
  #   environment:
  #     - PUID=1000
  #     - PGID=1000
  #     - TZ=Etc/UTC
  #     - SERVERURL=lab.cucyber.net #optional
  #     - SERVERPORT=1194 #optional
  #     - PEERS=50 #optional
  #     - PEERDNS=auto #optional
  #     - INTERNAL_SUBNET=10.13.13.0 #optional
  #     - ALLOWEDIPS=172.17.0.0/16 #optional
  #     - PERSISTENTKEEPALIVE_PEERS= #optional
  #     - LOG_CONFS=true #optional
  #   volumes:
  #     - ./config:/config
  #     # - /lib/modules:/lib/modules #optional
  #   ports:
  #     - 1194:1194/udp
  #   sysctls:
  #     - net.ipv4.conf.all.src_valid_mark=1
  #   restart: unless-stopped
  vpn:
    image: openvpn/openvpn-as:latest
    cap_add:
      - NET_ADMIN
    volumes:
      - ./openvpn:/openvpn
    ports:
      - 943:943
      - 443:443
      - 1194:1194/udp
